<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Solicitar Profissional</title>
  <link rel="stylesheet" href="style.css">
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background-color: #0a2a47;
      color: #fff;
    }
    .container {
      max-width: 600px;
      margin: 40px auto;
      background-color: #111;
      padding: 30px;
      border-radius: 15px;
      box-shadow: 0 0 10px rgba(0,0,0,0.5);
    }
    h1 {
      text-align: center;
      color: #00adee;
    }
    label {
      display: block;
      margin-top: 15px;
      font-weight: bold;
    }
    input, select, textarea {
      width: 100%;
      padding: 10px;
      margin-top: 5px;
      border: none;
      border-radius: 8px;
      background-color: #222;
      color: #fff;
    }
    textarea {
      resize: vertical;
    }
    button {
      background-color: #00adee;
      color: white;
      padding: 12px;
      width: 100%;
      border: none;
      border-radius: 8px;
      margin-top: 20px;
      cursor: pointer;
      font-weight: bold;
    }
    #apartamentoInfo {
      display: none;
    }
    #regiaoDiv {
      display: none;
    }
    #precoFinal {
      margin-top: 20px;
      font-size: 18px;
      color: #00ffcc;
      text-align: center;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Solicitar um Profissional</h1>
    <form id="solicitarForm">
      <label for="nome">Seu Nome:</label>
      <input type="text" id="nome" name="nome" required>

      <label for="classe">Área de Atuação:</label>
      <select id="classe" name="classe" required>
        <option value="">Selecione</option>
        <option value="casareparos">Casa & Reparos</option>
        <option value="limpezacuidados">Limpeza & Cuidados</option>
        <option value="assistenciapessoal">Assistência Pessoal</option>
        <option value="transportelogistica">Transporte & Logística</option>
        <option value="petanimais">Pet & Animais</option>
        <option value="outros">Digital / Outros</option>
      </select>

      <label for="profissional">Profissional Desejado:</label>
      <select id="profissional" name="profissional" required>
        <option value="">Selecione uma classe primeiro</option>
      </select>

      <label for="cidade">Cidade:</label>
      <select id="cidade" name="cidade" required>
        <option value="">Selecione</option>
        <option value="florianopolis">Florianópolis</option>
        <option value="saojose">São José</option>
      </select>

      <div id="regiaoDiv">
        <label for="regiao">Região do Bairro (Florianópolis):</label>
        <select id="regiao" name="regiao">
          <option value="">Selecione</option>
          <option value="norte">Norte</option>
          <option value="sul">Sul</option>
          <option value="leste">Leste</option>
          <option value="oeste">Oeste</option>
          <option value="central">Central</option>
        </select>
      </div>

      <label for="bairro">Bairro:</label>
      <select id="bairro" name="bairro" required>
        <option value="">Selecione a cidade ou região</option>
      </select>

      <label for="tipo_residencia">Tipo de Residência:</label>
      <select id="tipo_residencia" name="tipo_residencia" required>
        <option value="">Selecione</option>
        <option value="casa">Casa</option>
        <option value="apartamento">Apartamento</option>
      </select>

      <div id="apartamentoInfo">
        <label for="numero_apto">Número do Apartamento:</label>
        <input type="text" id="numero_apto" name="numero_apto" placeholder="Ex: Bloco B, Apto 203">
      </div>

      <label for="rua">Rua:</label>
      <input type="text" id="rua" name="rua" required>

      <label for="numero">Número:</label>
      <input type="text" id="numero" name="numero" required>

      <label for="telefone">Telefone para Contato:</label>
      <input type="tel" id="telefone" name="telefone" placeholder="(DDD) 90000-0000" required>

      <label for="disponibilidade">Disponibilidade:</label>
      <input type="text" id="disponibilidade" name="disponibilidade" placeholder="Dias e horários disponíveis" required>

      <label for="descricao">Descrição do serviço:</label>
      <textarea id="descricao" name="descricao" rows="4" required></textarea>

      <p id="precoFinal">Valor Total: R$ 0,00</p>

      <button type="submit">Solicitar</button>
    </form>
  </div>

  <script>
    const especialidadesPorClasse = {
      casareparos: ["Eletricista","Encanador","Pedreiro","Pintor","Gesseiro","Marceneiro","Vidraceiro","Serralheiro","Técnico de ar-condicionado","Montador de móveis"],
      limpezacuidados: ["Diarista / Limpeza","Faxineira pós-obra","Jardineiro","Piscineiro","Servente de obra","Limpeza de estofados","Babá / Cuidadora infantil","Cuidadora de idosos","Cuidadora pós-parto / cirurgia"],
      assistenciapessoal: ["Acompanhante hospitalar","Massoterapeuta","Cabeleireiro a domicílio","Maquiador(a)","Esteticista"],
      transportelogistica: ["Motorista particular","Motoboy","Carreteiro/frete pequeno","Montador / Desmontador de mudança"],
      petanimais: ["Dog walker (passeador de cães)","Pet sitter (cuidador de pets)","Banho e tosa em domicílio"],
      outros: ["Técnico de informática","Instalador de câmeras ou alarme","Professor particular (reforço escolar)","Tradutor/intérprete","Personal trainer"]
    };

    const precoBase = {
      "Eletricista": 120, "Encanador": 110, "Pedreiro": 150, "Pintor": 140, "Gesseiro": 130, "Marceneiro": 160,
      "Vidraceiro": 110, "Serralheiro": 140, "Técnico de ar-condicionado": 120, "Montador de móveis": 100,
      "Diarista / Limpeza": 100, "Faxineira pós-obra": 130, "Jardineiro": 90, "Piscineiro": 85, "Servente de obra": 95,
      "Limpeza de estofados": 110, "Babá / Cuidadora infantil": 95, "Cuidadora de idosos": 100, "Cuidadora pós-parto / cirurgia": 110,
      "Acompanhante hospitalar": 100, "Massoterapeuta": 120, "Cabeleireiro a domicílio": 80, "Maquiador(a)": 75, "Esteticista": 100,
      "Motorista particular": 100, "Motoboy": 80, "Carreteiro/frete pequeno": 120, "Montador / Desmontador de mudança": 130,
      "Dog walker (passeador de cães)": 60, "Pet sitter (cuidador de pets)": 70, "Banho e tosa em domicílio": 90,
      "Técnico de informática": 100, "Instalador de câmeras ou alarme": 120, "Professor particular (reforço escolar)": 80,
      "Tradutor/intérprete": 100, "Personal trainer": 120
    };

    const bairrosPorRegiao = {
      norte: ["Canasvieiras", "Ingleses", "Jurerê", "Sambaqui", "Ratones", "Rio Vermelho", "Santo Antônio de Lisboa", "Praia Brava", "Ponta das Canas", "Vargem Grande", "Vargem Pequena"],
      sul: ["Armação do Pântano do Sul", "Campeche", "Campeche Central", "Caieira da Barra do Sul", "Pântano do Sul", "Morro das Pedras", "Ribeirão da Ilha", "Tapera", "Novo Campeche", "Costeira do Pirajubaé"],
      leste: ["Barra da Lagoa", "Lagoa da Conceição", "Rio Vermelho", "Córrego Grande", "Trindade", "Pantanal", "Santinho", "Morro do Horácio", "Jardim Anchieta", "João Paulo"],
      oeste: ["Capoeiras", "Coqueiros", "Estreito", "Bom Abrigo", "Itaguaçu", "Coloninha", "Balneário", "Monte Verde", "Santa Mônica", "Abraão"],
      central: ["Centro", "Agronômica", "Itacorubi", "José Mendes", "Saco dos Limões", "Saco Grande", "Cacupé", "Costa da Lagoa", "Jardim Atlântico", "Canto"]
    };

    const bairrosSaoJose = [
      "Areias", "Barreiros", "Campinas", "Centro", "Forquilhas", "Ipiranga", "Itinga", "Kobrasol", "Picadas do Sul",
      "Roçado", "Serraria", "Barra do Aririú", "Potecas", "Praia Comprida", "Real Parque", "Pedra Branca", "Floresta",
      "Jardim Cidade de Florianópolis", "Nossa Senhora do Rosário", "Sertão do Maruim", "Sertão do Imaruim"
    ];

    const cidade = document.getElementById("cidade");
    const regiao = document.getElementById("regiao");
    const regiaoDiv = document.getElementById("regiaoDiv");
    const bairro = document.getElementById("bairro");
    const classe = document.getElementById("classe");
    const profissional = document.getElementById("profissional");
    const precoFinal = document.getElementById("precoFinal");
    const tipoResidencia = document.getElementById("tipo_residencia");
    const apartamentoInfo = document.getElementById("apartamentoInfo");

    classe.addEventListener("change", () => {
      profissional.innerHTML = '<option value="">Selecione</option>';
      const lista = especialidadesPorClasse[classe.value] || [];
      lista.forEach(p => {
        const opt = document.createElement("option");
        opt.value = p;
        opt.textContent = p;
        profissional.appendChild(opt);
      });
    });

    cidade.addEventListener("change", () => {
      const cidadeSelecionada = cidade.value;
      if (cidadeSelecionada === "florianopolis") {
        regiaoDiv.style.display = "block";
        bairro.innerHTML = '<option value="">Selecione a região</option>';
      } else {
        regiaoDiv.style.display = "none";
        bairro.innerHTML = '<option value="">Selecione</option>';
        bairrosSaoJose.forEach(b => {
          const opt = document.createElement("option");
          opt.value = b;
          opt.textContent = b;
          bairro.appendChild(opt);
        });
      }
      atualizarPreco();
    });

    regiao.addEventListener("change", () => {
      bairro.innerHTML = '<option value="">Selecione</option>';
      const lista = bairrosPorRegiao[regiao.value] || [];
      lista.forEach(b => {
        const opt = document.createElement("option");
        opt.value = b;
        opt.textContent = b;
        bairro.appendChild(opt);
      });
    });

    tipoResidencia.addEventListener("change", () => {
      apartamentoInfo.style.display = tipoResidencia.value === "apartamento" ? "block" : "none";
    });

    profissional.addEventListener("change", atualizarPreco);

    function atualizarPreco() {
      const prof = profissional.value;
      const cid = cidade.value;
      const valor = precoBase[prof] || 0;
      const desloc = cid === "florianopolis" ? 25 : cid === "saojose" ? 60 : 0;
      const total = valor + desloc;
      precoFinal.textContent = `Valor Total: R$ ${total.toFixed(2)}`;
      return total;
    }

    document.getElementById("solicitarForm").addEventListener("submit", function(e) {
      e.preventDefault();
      const total = atualizarPreco();
      const form = new FormData(this);
      let mensagem = `*Solicitação HelpFloripa*%0A`;
      for (let [k, v] of form.entries()) {
        mensagem += `${k}: ${v}%0A`;
      }
      mensagem += `Valor Total: R$ ${total.toFixed(2)}`;
      window.location.href = `https://wa.me/5587981352848?text=${mensagem}`;
    });
  </script>
</body>
</html>
