<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Solicitar Profissional</title>
  <link rel="stylesheet" href="style.css">
  <style>
    body {
      background-color: #000; /* fundo preto */
      color: #fff;
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
    }

    .container {
      max-width: 600px;
      margin: 50px auto;
      background-color: #0d1b2a; /* azul escuro */
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 0 12px rgba(0,0,0,0.6);
    }

    h1 {
      text-align: center;
      color: #00adee;
      margin-bottom: 20px;
    }

    label {
      display: block;
      margin: 10px 0 5px;
      font-weight: bold;
    }

    input, select, textarea, button {
      width: 100%;
      padding: 12px;
      margin-bottom: 15px;
      border: none;
      border-radius: 8px;
      font-size: 16px;
    }

    input, select, textarea {
      background-color: #ffffff;
      color: #000;
    }

    button {
      background-color: #00adee;
      color: #fff;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.3s ease;
    }

    button:hover {
      background-color: #008bbd;
    }

    #precoFinal {
      text-align: center;
      font-size: 18px;
      margin-top: 10px;
      color: #fff;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Solicitar Profissional</h1>
    
    <form action="https://formsubmit.co/seu_email_aqui@gmail.com" method="POST" onsubmit="mostrarMensagem(event)">
      <label for="nome">Seu Nome:</label>
      <input type="text" id="nome" name="Nome" required>

      <label for="email">Seu E-mail:</label>
      <input type="email" id="email" name="Email" required>

      <label for="telefone">WhatsApp:</label>
      <input type="tel" id="telefone" name="Telefone" required>

      <label for="profissional">Profissional:</label>
      <select id="profissional" name="Profissional" onchange="calcularPreco()" required>
        <option value="">-- Selecione --</option>
        <option value="Eletricista">Eletricista</option>
        <option value="Encanador">Encanador</option>
        <option value="Faxineira">Faxineira</option>
        <option value="Pedreiro">Pedreiro</option>
        <option value="Jardineiro">Jardineiro</option>
        <option value="Diarista">Diarista</option>
      </select>

      <label for="cidade">Cidade:</label>
      <select id="cidade" name="Cidade" onchange="calcularPreco()" required>
        <option value="">-- Selecione --</option>
        <option value="florianopolis">Florianópolis</option>
        <option value="saojose">São José</option>
      </select>

      <label for="descricao">Descrição do Pedido:</label>
      <textarea id="descricao" name="Descrição" rows="4" required></textarea>

      <!-- Campo oculto com valor calculado -->
      <input type="hidden" id="valorTotalInput" name="Valor Total" value="0.00">

      <div id="precoFinal">Valor Total: R$ 0,00</div>

      <button type="submit">Enviar Pedido</button>
    </form>
  </div>

  <script>
    function calcularPreco() {
      const profissional = document.getElementById("profissional").value;
      const cidade = document.getElementById("cidade").value;
      const precoFinal = document.getElementById("precoFinal");
      const valorTotalInput = document.getElementById("valorTotalInput");

      const tabelaPrecos = {
        Eletricista: 120,
        Encanador: 110,
        Faxineira: 100,
        Pedreiro: 150,
        Jardineiro: 90,
        Diarista: 95
      };

      const gasolina = cidade === "saojose" ? 60 : cidade === "florianopolis" ? 25 : 0;

      if (profissional && tabelaPrecos[profissional] && gasolina > 0) {
        const total = tabelaPrecos[profissional] + gasolina;
        precoFinal.textContent = `Valor Total: R$ ${total.toFixed(2)}`;
        valorTotalInput.value = total.toFixed(2);
      } else {
        precoFinal.textContent = "Valor Total: R$ 0,00";
        valorTotalInput.value = "0.00";
      }
    }

    function mostrarMensagem(e) {
      e.preventDefault();
      alert("Pedido enviado com sucesso! Redirecionando...");
      setTimeout(() => {
        e.target.submit();
        window.location.href = "index.html";
      }, 2500);
    }
  </script>
</body>
</html>
